@using CEAE.Utils
@using AuthenticationManager = CEAE.Managers.AuthenticationManager
@{
    ViewBag.Title = Translations.ManageAccount;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
    <h2>@Translations.ManageAccount</h2>

    <h3>@Translations.Details</h3>
    <hr />
    
    <dl class="dl-horizontal">
        <dt>@Translations.Account</dt>
        <dd>@(AuthenticationManager.UserAccount(Session) ?? "")</dd>
        <dt>@Translations.Email</dt>
        @if (AuthenticationManager.UserEmail(Session) == null)
        {
            <dd>
                @Translations.EmailUndefined -
                @Html.ActionLink(Translations.Edit, "Edit", "Users", new { id = Session[Constants.Session.UserId]?.ToString() ?? "" }, null)
            </dd>
        }
        else
        {
            <dd>@AuthenticationManager.UserEmail(Session)</dd>
        }
    </dl>

    <h3>@Translations.Properties</h3>
    <hr />
    <div class="btn-group">
        @Html.ActionLink(Translations.Edit, "Edit", "Users", new { id = Session[Constants.Session.UserId]?.ToString() ?? "" }, new { @class = "btn btn-primary" })
        @Html.ActionLink(Translations.ResetPassword, "ResetPassword", "Account", null, new { @class = "btn btn-default" })
    </div>

</div>